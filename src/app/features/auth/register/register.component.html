<div class="register">
  <p-toast position="top-right" [baseZIndex]="9000"></p-toast>
  <div class="container">
    <div class="row">
      <div class="d-flex justify-content-center">
        <img src="assets/images/hah-logo.svg" alt="" class="logo mx-auto">
      </div>
    </div>
    <div class="d-flex flex-column">
      <div class="col-lg-6 col-12 mx-auto flex-grow-1">
        <div class="form-heading">Patient Register</div>
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate>
          <div class="row">
            <div class="col">
              <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" formControlName="email" class="form-control" id="email" placeholder="johndoe@gmail.com">
                @if(f['email'].hasError('required') && (f['email'].touched || isFormSubmitted)){
                <div class="text-danger">
                  This field is required
                </div>
                } @else if (f['email'].hasError('email') && (f['email'].touched || isFormSubmitted)){
                <div class="text-danger">
                  Please enter valid email address
                </div>
                } @else if (patientEmailExists){
                <div class="text-danger">
                  Email address already in use.
                </div>
                <div class="text-danger">
                  Please try to Log in
                </div>
                <div class="row">
                  <div class="col-3"><button type="button" class="btn btn-primary" (click)="goToLogin()">Login</button></div>
                  <div class="col-3"><button type="button" class="btn btn-danger" (click)="goToLogin()">Cancel</button></div>
                </div>
                }
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <div class="form-group">
                <label for="password">Password</label>
                <input type="password" formControlName="password" class="form-control" id="password"
                  placeholder="Password">
                @if (f['password'].hasError('required') && (f['password'].touched || isFormSubmitted)){
                <div class="text-danger">
                  This field is required
                </div>
                } @else if (f['password'].hasError('policy') && (f['password'].touched || isFormSubmitted)){
                <div class="text-danger">
                  Password must contain at least 10 characters.
                </div>
                <div class="text-danger">
                  Including lowercases, UPPERCASEs, numbers and special characters.
                </div>
                }
              </div>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col">
              <div class="form-group form-check">
                <input type="checkbox" formControlName="terms" class="form-check-input" id="terms">
                <label class="form-check-label" for="terms">I agree to the <a routerLink="/terms" class="btn-link" target="_blank">terms
                    and
                    conditions</a></label>
              </div>
            @if (f['terms'].hasError('required') && (f['terms'].touched || isFormSubmitted)){
            <div class="text-danger">
              Please agree on Terms & Conditions to continue
              </div>
            }
            </div>
          </div>
          <div class="row mt-5">
            <div class="col">
              <button type="submit" class="btn btn-primary">Sign me Up</button>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col">
              <div class="text-center">
                <a (click)="goToLogin()" class="btn-link">Already have an account? Login</a>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>

    <router-outlet></router-outlet>
  </div>
</div>
